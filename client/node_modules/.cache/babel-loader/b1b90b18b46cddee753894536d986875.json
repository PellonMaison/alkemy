{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\maria\\\\Downloads\\\\budget-app-main(1)\\\\budget-app-main\\\\client\\\\src\\\\components\\\\Income.js\",\n    _s = $RefreshSig$();\n\nimport React, { useState, useEffect } from 'react';\nimport axios from 'axios';\nimport styled from 'styled-components';\nimport IncomeItems from './IncomeItems';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nfunction Income(_ref) {\n  _s();\n\n  let {\n    currentDate,\n    incomeData,\n    setIncomeData\n  } = _ref;\n  // Set the income input state for form submission\n  const [incomeInput, setIncomeInput] = useState({\n    name: '',\n    amount: 0\n  }); // Use use effect in order to print out the current income when the component first mounts\n\n  useEffect(() => {\n    axios.get(`/api/users/income/${currentDate.month}/${currentDate.year}`).then(response => setIncomeData(response.data.incomes)).catch(err => setIncomeData([{\n      name: 'No Income Yet!'\n    }]));\n  }, [currentDate]); // Set the income input per change of each input\n\n  const incomeInputHandler = event => {\n    const {\n      name,\n      value\n    } = event.target;\n    setIncomeInput({ ...incomeInput,\n      [name]: value\n    });\n  }; // When form is submitted...\n\n\n  const handleFormSubmit = async event => {\n    event.preventDefault(); // Store the data and...\n\n    const data = {\n      name: incomeInput.name,\n      amount: parseInt(incomeInput.amount),\n      month: currentDate.month,\n      year: currentDate.year\n    }; // Send the data to the api to be stored in the database. Await for this to finish\n\n    await axios.post('/api/income', data).then(response => console.log(response)); // then refetch the data from the database to use for printing out the incomes\n\n    axios.get(`/api/users/income/${currentDate.month}/${currentDate.year}`).then(response => {\n      setIncomeData(response.data.incomes);\n      console.log(response);\n    });\n    setIncomeInput({\n      name: '',\n      amount: 0\n    });\n  };\n\n  return /*#__PURE__*/_jsxDEV(StyledIncome, {\n    children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n      className: \"incomeh\",\n      children: \"Income\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 51,\n      columnNumber: 9\n    }, this), /*#__PURE__*/_jsxDEV(\"form\", {\n      className: \"input-form\",\n      onSubmit: handleFormSubmit,\n      children: [/*#__PURE__*/_jsxDEV(\"input\", {\n        type: \"text\",\n        name: \"name\",\n        id: \"incomeName\",\n        value: incomeInput.name,\n        onChange: incomeInputHandler,\n        placeholder: \"Name\",\n        required: true\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 53,\n        columnNumber: 13\n      }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n        type: \"number\",\n        name: \"amount\",\n        id: \"incomeAmount\",\n        value: incomeInput.amount,\n        onChange: incomeInputHandler,\n        placeholder: \"Amount\",\n        required: true\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 54,\n        columnNumber: 13\n      }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n        type: \"submit\",\n        className: \"add-income\",\n        children: \"Enter\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 55,\n        columnNumber: 13\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 52,\n      columnNumber: 9\n    }, this), /*#__PURE__*/_jsxDEV(\"table\", {\n      children: [/*#__PURE__*/_jsxDEV(\"thead\", {\n        children: /*#__PURE__*/_jsxDEV(\"tr\", {\n          children: [/*#__PURE__*/_jsxDEV(\"th\", {\n            children: \"Name\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 60,\n            columnNumber: 21\n          }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n            children: \"Amount\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 61,\n            columnNumber: 21\n          }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n            children: \"Delete\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 62,\n            columnNumber: 21\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 59,\n          columnNumber: 17\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 58,\n        columnNumber: 13\n      }, this), /*#__PURE__*/_jsxDEV(\"tbody\", {\n        children: incomeData.map(income => /*#__PURE__*/_jsxDEV(IncomeItems, {\n          income: income,\n          setIncomeData: setIncomeData,\n          currentDate: currentDate\n        }, income.id, false, {\n          fileName: _jsxFileName,\n          lineNumber: 66,\n          columnNumber: 44\n        }, this))\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 65,\n        columnNumber: 13\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 57,\n      columnNumber: 9\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 50,\n    columnNumber: 5\n  }, this);\n}\n\n_s(Income, \"Yx18hpcawGGarWMfuJiwDLpkw3I=\");\n\n_c = Income;\nconst StyledIncome = styled.div` \n    padding: 5px 10px;\n    margin-top: 50px;\n    border: 1px solid black;\n    border-radius: 5px;\n    box-shadow: 0 0 15px 4px rgb(0,0,0,0.06);\n    background: white;\n    background: #80472F;\n    border-radius: 5px;\n    backdrop-filter: blur(2px);\n    width: 30rem;\n\n    h1, h2 {\n        text-align: center;\n    }\n    table {\n        width: 80%;\n        margin: 2rem auto;\n    }\n\n    th {\n        border: 2px solid black;\n    }\n\n    td {\n        text-align: center;\n        border: 1px solid black;\n    }\n\n    .trash {\n        color: #0a0a0a;\n    }\n    .trashbtn:hover {\n        cursor: pointer;\n    }\n\n    @media(max-width: 500px) {\n        width: 20rem;\n    }\n    @media(max-width: 340px) {\n        width: 18rem;\n    }\n`;\n_c2 = StyledIncome;\nexport default Income;\n\nvar _c, _c2;\n\n$RefreshReg$(_c, \"Income\");\n$RefreshReg$(_c2, \"StyledIncome\");","map":{"version":3,"names":["React","useState","useEffect","axios","styled","IncomeItems","Income","currentDate","incomeData","setIncomeData","incomeInput","setIncomeInput","name","amount","get","month","year","then","response","data","incomes","catch","err","incomeInputHandler","event","value","target","handleFormSubmit","preventDefault","parseInt","post","console","log","map","income","id","StyledIncome","div"],"sources":["C:/Users/maria/Downloads/budget-app-main(1)/budget-app-main/client/src/components/Income.js"],"sourcesContent":["import React, { useState, useEffect } from 'react';\nimport axios from 'axios';\nimport styled from 'styled-components';\n\nimport IncomeItems from './IncomeItems';\n\nfunction Income({ currentDate, incomeData, setIncomeData }) {\n\n    // Set the income input state for form submission\n    const [incomeInput, setIncomeInput] = useState({ name: '', amount: 0 });\n\n    // Use use effect in order to print out the current income when the component first mounts\n    useEffect(() => {\n        axios.get(`/api/users/income/${currentDate.month}/${currentDate.year}`).then((response) => setIncomeData(response.data.incomes)).catch(err => setIncomeData([{name: 'No Income Yet!'}]))\n    }, [currentDate])\n\n    // Set the income input per change of each input\n    const incomeInputHandler = (event) => {\n        const { name, value } = event.target;\n\n        setIncomeInput({ ...incomeInput, [name]: value })\n    }\n\n    // When form is submitted...\n    const handleFormSubmit = async (event) => {\n        event.preventDefault();\n\n        // Store the data and...\n        const data = { \n            name: incomeInput.name,\n            amount: parseInt(incomeInput.amount),\n            month: currentDate.month,\n            year: currentDate.year\n        }\n\n        // Send the data to the api to be stored in the database. Await for this to finish\n        await axios.post('/api/income', data).then(response => console.log(response));\n        // then refetch the data from the database to use for printing out the incomes\n        axios.get(`/api/users/income/${currentDate.month}/${currentDate.year}`).then((response) => {\n            setIncomeData(response.data.incomes);\n             console.log(response)\n        });\n\n        setIncomeInput({name: '', amount: 0})\n    }\n\n    \n\n  return (\n    <StyledIncome>\n        <h2 className=\"incomeh\">Income</h2>\n        <form className=\"input-form\" onSubmit={handleFormSubmit}>\n            <input type=\"text\" name=\"name\" id=\"incomeName\" value={incomeInput.name} onChange={incomeInputHandler} placeholder=\"Name\" required></input>\n            <input type=\"number\" name=\"amount\" id=\"incomeAmount\" value={incomeInput.amount} onChange={incomeInputHandler} placeholder=\"Amount\" required></input>\n            <button type=\"submit\" className=\"add-income\">Enter</button>\n        </form>\n        <table>\n            <thead>\n                <tr>\n                    <th>Name</th>\n                    <th>Amount</th>\n                    <th>Delete</th>\n                </tr>\n            </thead>\n            <tbody>\n                {incomeData.map(income => (<IncomeItems income={income} setIncomeData={setIncomeData} currentDate={currentDate} key={income.id}></IncomeItems>))}\n            </tbody>\n        </table>\n    </StyledIncome>\n  );\n}\n\nconst StyledIncome = styled.div ` \n    padding: 5px 10px;\n    margin-top: 50px;\n    border: 1px solid black;\n    border-radius: 5px;\n    box-shadow: 0 0 15px 4px rgb(0,0,0,0.06);\n    background: white;\n    background: #80472F;\n    border-radius: 5px;\n    backdrop-filter: blur(2px);\n    width: 30rem;\n\n    h1, h2 {\n        text-align: center;\n    }\n    table {\n        width: 80%;\n        margin: 2rem auto;\n    }\n\n    th {\n        border: 2px solid black;\n    }\n\n    td {\n        text-align: center;\n        border: 1px solid black;\n    }\n\n    .trash {\n        color: #0a0a0a;\n    }\n    .trashbtn:hover {\n        cursor: pointer;\n    }\n\n    @media(max-width: 500px) {\n        width: 20rem;\n    }\n    @media(max-width: 340px) {\n        width: 18rem;\n    }\n`\n\nexport default Income;"],"mappings":"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"},"metadata":{},"sourceType":"module"}